<div class="panel panel-default">
  <div class="panel-heading text-center">Динамика за период</div>
  <div class="panel-body">
    <div class="row filter-row">
      <div class="col-sm-11 filters">
        <bk-multi-level-dropdown class="filter" alternativeSelection="true" alternativeSelectionIndex="1" buttonTitle="Операции"
        [dataModel]="operationsFilter" [stopPropagation]="true"></bk-multi-level-dropdown>
        <bk-currency-conversion label="К валюте:" denyNoChoice="true" [selectedCurrency]="defaultCurrency" class="filter" (currencyConversion)="changeCurrency($event)"></bk-currency-conversion>
        <bk-tag-filter-dropdown class="filter" [tags]="availableTags" [selectedTitles]="tagsFilter" (selectionChange)="tagsFilter = $event"></bk-tag-filter-dropdown>
        <bk-period-filter (updatePeriod)="updatePeriod($event)"></bk-period-filter>
      </div>
      <div class="col-sm-1">
        <span class="btn btn-default search-button pull-right" type="button" (click)="search()">Поиск</span>
      </div>
    </div>
    @if (!loading) {
      <div>
        <div class="row">
          <div class="col-sm-12">
            @if (lineChartData) {
              <canvas baseChart [datasets]="lineChartData" [labels]="lineChartLabels" [type]="'line'"></canvas>
            }
          </div>
        </div>
      </div>
    } @else {
      <div class="spinner-wrapper"><bk-spinner [size]="100"></bk-spinner></div>
    }
  </div>
</div>

